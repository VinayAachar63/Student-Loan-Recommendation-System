<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Forgot Password</title>
  <style>
    body { font-family: Poppins, sans-serif; background:#121921; color:white; display:flex; justify-content:center; align-items:center; height:100vh; }
    .card { background:rgba(255,255,255,0.05); padding:2rem; border-radius:12px; box-shadow:0 0 15px rgba(255,255,255,0.1); width:400px; text-align:center; }
    input,button{width:100%;padding:10px;margin:10px 0;border:none;border-radius:8px;}
    input{background:rgba(255,255,255,0.1);color:white;}
    button{background:#e91e63;color:white;font-weight:bold;cursor:pointer;}
    button:hover{background:#ff4081;}
    a{color:#aaa;text-decoration:none;}
  </style>
</head>
<body>
  <div class="card">
    <h2>Forgot Password?</h2>
    <p>Enter your registered email to receive a reset link.</p>
    <input type="email" id="email" placeholder="Enter your email">
    <button onclick="sendResetLink()">Send Reset Link</button>
    <p id="msg"></p>
    <a href="/">‚Üê Back to Login</a>
  </div>

  <script>
    async function sendResetLink(){
      const email=document.getElementById('email').value;
      const msg=document.getElementById('msg');
      msg.innerText='';
      if(!email){msg.innerText='Please enter your email.';return;}
      try{
        const resp=await fetch('/forgot_password',{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({email})
        });
        const data=await resp.json();
        if(!resp.ok) throw new Error(data.error||'Something went wrong');
        msg.style.color='lightgreen';msg.innerText=data.message;
      }catch(e){msg.style.color='red';msg.innerText=e.message;}
    }
  </script>
</body>
</html>
